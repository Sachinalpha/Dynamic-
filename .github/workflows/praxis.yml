name: Manual Praxis Test

on:
  workflow_dispatch:

jobs:
  run-praxis-agent:
    runs-on: ubuntu-latest

    steps:
      - name: Call Praxis Agent
        env:
          AGENT_ID: ${{ secrets.PRAXIS_AGENT_ID }}
          API_KEY: ${{ secrets.PRAXIS_API_TOKEN }}
        run: |
          # Use curl with proper TLS and verbose output for debugging
          RESPONSE=$(curl -s -X POST "https://api.praxis.ai/v1/agent/$AGENT_ID/run" \
            -H "Authorization: Bearer $API_KEY" \
            -H "Content-Type: application/json" \
            -d '{"input":"Hello World"}' \
            --tlsv1.2 \
            --fail \
            --show-error)
          echo "Agent Response: $RESPONSE"
